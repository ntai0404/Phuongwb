### Crawler Orchestration API Tests
### Following RFC 2616 HTTP/1.1 Protocol
### VS Code REST Client Extension Required

@baseUrl = {{baseUrl}}
@accessToken = YOUR_ACCESS_TOKEN_HERE

###
# Trigger immediate crawl for all active sources (Admin only)
# POST /api/v1/crawler/trigger
POST {{baseUrl}}/api/v1/crawler/trigger HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{}

###
# Trigger crawl for specific source (Admin only)
# POST /api/v1/crawler/trigger
POST {{baseUrl}}/api/v1/crawler/trigger HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "source_id": 1
}

###
# Trigger crawl for another specific source
# POST /api/v1/crawler/trigger
POST {{baseUrl}}/api/v1/crawler/trigger HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "source_id": 2
}

###
# Get crawler schedule configuration (Admin only)
# GET /api/v1/crawler/schedule
GET {{baseUrl}}/api/v1/crawler/schedule HTTP/1.1
Authorization: Bearer {{accessToken}}

###
# Update crawler schedule - every 6 hours (Admin only)
# PUT /api/v1/crawler/schedule
PUT {{baseUrl}}/api/v1/crawler/schedule HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "cron_schedule": "0 */6 * * *",
  "is_enabled": true
}

###
# Update crawler schedule - every hour (Admin only)
# PUT /api/v1/crawler/schedule
PUT {{baseUrl}}/api/v1/crawler/schedule HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "cron_schedule": "0 * * * *",
  "is_enabled": true
}

###
# Disable crawler schedule (Admin only)
# PUT /api/v1/crawler/schedule
PUT {{baseUrl}}/api/v1/crawler/schedule HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "cron_schedule": "0 */6 * * *",
  "is_enabled": false
}
